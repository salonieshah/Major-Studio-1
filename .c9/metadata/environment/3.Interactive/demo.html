{"filter":false,"title":"demo.html","tooltip":"/3.Interactive/demo.html","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":188,"column":3},"action":"insert","lines":["var lanes = [\"Chinese\",\"Japanese\",\"Korean\"],","\t\t\tlaneLength = lanes.length,","\t\t\titems = [{\"lane\": 0, \"id\": \"Qin\", \"start\": 5, \"end\": 205},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Jin\", \"start\": 265, \"end\": 420},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Sui\", \"start\": 580, \"end\": 615},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Tang\", \"start\": 620, \"end\": 900},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Song\", \"start\": 960, \"end\": 1265},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Yuan\", \"start\": 1270, \"end\": 1365},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Ming\", \"start\": 1370, \"end\": 1640},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Qing\", \"start\": 1645, \"end\": 1910},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Yamato\", \"start\": 300, \"end\": 530},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Asuka\", \"start\": 550, \"end\": 700},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Nara\", \"start\": 710, \"end\": 790},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Heian\", \"start\": 800, \"end\": 1180},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Kamakura\", \"start\": 1190, \"end\": 1330},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Muromachi\", \"start\": 1340, \"end\": 1560},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Edo\", \"start\": 1610, \"end\": 1860},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Meiji\", \"start\": 1870, \"end\": 1900},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Taisho\", \"start\": 1910, \"end\": 1920},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Showa\", \"start\": 1925, \"end\": 1985},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Heisei\", \"start\": 1990, \"end\": 1995},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Three Kingdoms\", \"start\": 10, \"end\": 670},","\t\t\t\t\t{\"lane\": 2, \"id\": \"North and South States\", \"start\": 690, \"end\": 900},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Goryeo\", \"start\": 920, \"end\": 1380},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Joseon\", \"start\": 1390, \"end\": 1890},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Korean Empire\", \"start\": 1900, \"end\": 1945}]","\t\t\ttimeBegin = 0,","\t\t\ttimeEnd = 2000;","\t\t</script>","\t\t<script type=\"text/javascript\">","\t\tvar m = [20, 15, 15, 120], //top right bottom left","\t\t\tw = 960 - m[1] - m[3],","\t\t\th = 500 - m[0] - m[2],","\t\t\tminiHeight = laneLength * 12 + 50,","\t\t\tmainHeight = h - miniHeight - 50;","","\t\t//scales","\t\tvar x = d3.scale.linear()","\t\t\t\t.domain([timeBegin, timeEnd])","\t\t\t\t.range([0, w]);","\t\tvar x1 = d3.scale.linear()","\t\t\t\t.range([0, w]);","\t\tvar y1 = d3.scale.linear()","\t\t\t\t.domain([0, laneLength])","\t\t\t\t.range([0, mainHeight]);","\t\tvar y2 = d3.scale.linear()","\t\t\t\t.domain([0, laneLength])","\t\t\t\t.range([0, miniHeight]);","","\t\tvar chart = d3.select(\"body\")","\t\t\t\t\t.append(\"svg\")","\t\t\t\t\t.attr(\"width\", w + m[1] + m[3])","\t\t\t\t\t.attr(\"height\", h + m[0] + m[2])","\t\t\t\t\t.attr(\"class\", \"chart\");","\t\t","\t\tchart.append(\"defs\").append(\"clipPath\")","\t\t\t.attr(\"id\", \"clip\")","\t\t\t.append(\"rect\")","\t\t\t.attr(\"width\", w)","\t\t\t.attr(\"height\", mainHeight);","","\t\tvar main = chart.append(\"g\")","\t\t\t\t\t.attr(\"transform\", \"translate(\" + m[3] + \",\" + m[0] + \")\")","\t\t\t\t\t.attr(\"width\", w)","\t\t\t\t\t.attr(\"height\", mainHeight)","\t\t\t\t\t.attr(\"class\", \"main\");","","\t\tvar mini = chart.append(\"g\")","\t\t\t\t\t.attr(\"transform\", \"translate(\" + m[3] + \",\" + (mainHeight + m[0]) + \")\")","\t\t\t\t\t.attr(\"width\", w)","\t\t\t\t\t.attr(\"height\", miniHeight)","\t\t\t\t\t.attr(\"class\", \"mini\");","\t\t","\t\t//main lanes and texts","\t\tmain.append(\"g\").selectAll(\".laneLines\")","\t\t\t.data(items)","\t\t\t.enter().append(\"line\")","\t\t\t.attr(\"x1\", m[1])","\t\t\t.attr(\"y1\", function(d) {return y1(d.lane);})","\t\t\t.attr(\"x2\", w)","\t\t\t.attr(\"y2\", function(d) {return y1(d.lane);})","\t\t\t.attr(\"stroke\", \"lightgray\")","","\t\tmain.append(\"g\").selectAll(\".laneText\")","\t\t\t.data(lanes)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d;})","\t\t\t.attr(\"x\", -m[1])","\t\t\t.attr(\"y\", function(d, i) {return y1(i + .5);})","\t\t\t.attr(\"dy\", \".5ex\")","\t\t\t.attr(\"text-anchor\", \"end\")","\t\t\t.attr(\"class\", \"laneText\");","\t\t","\t\t//mini lanes and texts","\t\tmini.append(\"g\").selectAll(\".laneLines\")","\t\t\t.data(items)","\t\t\t.enter().append(\"line\")","\t\t\t.attr(\"x1\", m[1])","\t\t\t.attr(\"y1\", function(d) {return y2(d.lane);})","\t\t\t.attr(\"x2\", w)","\t\t\t.attr(\"y2\", function(d) {return y2(d.lane);})","\t\t\t.attr(\"stroke\", \"lightgray\");","","\t\tmini.append(\"g\").selectAll(\".laneText\")","\t\t\t.data(lanes)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d;})","\t\t\t.attr(\"x\", -m[1])","\t\t\t.attr(\"y\", function(d, i) {return y2(i + .5);})","\t\t\t.attr(\"dy\", \".5ex\")","\t\t\t.attr(\"text-anchor\", \"end\")","\t\t\t.attr(\"class\", \"laneText\");","","\t\tvar itemRects = main.append(\"g\")","\t\t\t\t\t\t\t.attr(\"clip-path\", \"url(#clip)\");","\t\t","\t\t//mini item rects","\t\tmini.append(\"g\").selectAll(\"miniItems\")","\t\t\t.data(items)","\t\t\t.enter().append(\"rect\")","\t\t\t.attr(\"class\", function(d) {return \"miniItem\" + d.lane;})","\t\t\t.attr(\"x\", function(d) {return x(d.start);})","\t\t\t.attr(\"y\", function(d) {return y2(d.lane + .5) - 5;})","\t\t\t.attr(\"width\", function(d) {return x(d.end - d.start);})","\t\t\t.attr(\"height\", 10);","","\t\t//mini labels","\t\tmini.append(\"g\").selectAll(\".miniLabels\")","\t\t\t.data(items)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d.id;})","\t\t\t.attr(\"x\", function(d) {return x(d.start);})","\t\t\t.attr(\"y\", function(d) {return y2(d.lane + .5);})","\t\t\t.attr(\"dy\", \".5ex\");","","\t\t//brush","\t\tvar brush = d3.svg.brush()","\t\t\t\t\t\t\t.x(x)","\t\t\t\t\t\t\t.on(\"brush\", display);","","\t\tmini.append(\"g\")","\t\t\t.attr(\"class\", \"x brush\")","\t\t\t.call(brush)","\t\t\t.selectAll(\"rect\")","\t\t\t.attr(\"y\", 1)","\t\t\t.attr(\"height\", miniHeight - 1);","","\t\tdisplay();","\t\t","\t\tfunction display() {","\t\t\tvar rects, labels,","\t\t\t\tminExtent = brush.extent()[0],","\t\t\t\tmaxExtent = brush.extent()[1],","\t\t\t\tvisItems = items.filter(function(d) {return d.start < maxExtent && d.end > minExtent;});","","\t\t\tmini.select(\".brush\")","\t\t\t\t.call(brush.extent([minExtent, maxExtent]));","","\t\t\tx1.domain([minExtent, maxExtent]);","","\t\t\t//update main item rects","\t\t\trects = itemRects.selectAll(\"rect\")","\t\t\t        .data(visItems, function(d) { return d.id; })","\t\t\t\t.attr(\"x\", function(d) {return x1(d.start);})","\t\t\t\t.attr(\"width\", function(d) {return x1(d.end) - x1(d.start);});","\t\t\t","\t\t\trects.enter().append(\"rect\")","\t\t\t\t.attr(\"class\", function(d) {return \"miniItem\" + d.lane;})","\t\t\t\t.attr(\"x\", function(d) {return x1(d.start);})","\t\t\t\t.attr(\"y\", function(d) {return y1(d.lane) + 10;})","\t\t\t\t.attr(\"width\", function(d) {return x1(d.end) - x1(d.start);})","\t\t\t\t.attr(\"height\", function(d) {return .8 * y1(1);});","","\t\t\trects.exit().remove();","","\t\t\t//update the item labels","\t\t\tlabels = itemRects.selectAll(\"text\")","\t\t\t\t.data(visItems, function (d) { return d.id; })","\t\t\t\t.attr(\"x\", function(d) {return x1(Math.max(d.start, minExtent) + 2);});","","\t\t\tlabels.enter().append(\"text\")","\t\t\t\t.text(function(d) {return d.id;})","\t\t\t\t.attr(\"x\", function(d) {return x1(Math.max(d.start, minExtent));})","\t\t\t\t.attr(\"y\", function(d) {return y1(d.lane + .5);})","\t\t\t\t.attr(\"text-anchor\", \"start\");","","\t\t\tlabels.exit().remove();","","\t\t}"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":188,"column":3},"action":"remove","lines":["var lanes = [\"Chinese\",\"Japanese\",\"Korean\"],","\t\t\tlaneLength = lanes.length,","\t\t\titems = [{\"lane\": 0, \"id\": \"Qin\", \"start\": 5, \"end\": 205},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Jin\", \"start\": 265, \"end\": 420},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Sui\", \"start\": 580, \"end\": 615},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Tang\", \"start\": 620, \"end\": 900},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Song\", \"start\": 960, \"end\": 1265},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Yuan\", \"start\": 1270, \"end\": 1365},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Ming\", \"start\": 1370, \"end\": 1640},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Qing\", \"start\": 1645, \"end\": 1910},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Yamato\", \"start\": 300, \"end\": 530},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Asuka\", \"start\": 550, \"end\": 700},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Nara\", \"start\": 710, \"end\": 790},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Heian\", \"start\": 800, \"end\": 1180},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Kamakura\", \"start\": 1190, \"end\": 1330},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Muromachi\", \"start\": 1340, \"end\": 1560},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Edo\", \"start\": 1610, \"end\": 1860},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Meiji\", \"start\": 1870, \"end\": 1900},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Taisho\", \"start\": 1910, \"end\": 1920},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Showa\", \"start\": 1925, \"end\": 1985},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Heisei\", \"start\": 1990, \"end\": 1995},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Three Kingdoms\", \"start\": 10, \"end\": 670},","\t\t\t\t\t{\"lane\": 2, \"id\": \"North and South States\", \"start\": 690, \"end\": 900},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Goryeo\", \"start\": 920, \"end\": 1380},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Joseon\", \"start\": 1390, \"end\": 1890},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Korean Empire\", \"start\": 1900, \"end\": 1945}]","\t\t\ttimeBegin = 0,","\t\t\ttimeEnd = 2000;","\t\t</script>","\t\t<script type=\"text/javascript\">","\t\tvar m = [20, 15, 15, 120], //top right bottom left","\t\t\tw = 960 - m[1] - m[3],","\t\t\th = 500 - m[0] - m[2],","\t\t\tminiHeight = laneLength * 12 + 50,","\t\t\tmainHeight = h - miniHeight - 50;","","\t\t//scales","\t\tvar x = d3.scale.linear()","\t\t\t\t.domain([timeBegin, timeEnd])","\t\t\t\t.range([0, w]);","\t\tvar x1 = d3.scale.linear()","\t\t\t\t.range([0, w]);","\t\tvar y1 = d3.scale.linear()","\t\t\t\t.domain([0, laneLength])","\t\t\t\t.range([0, mainHeight]);","\t\tvar y2 = d3.scale.linear()","\t\t\t\t.domain([0, laneLength])","\t\t\t\t.range([0, miniHeight]);","","\t\tvar chart = d3.select(\"body\")","\t\t\t\t\t.append(\"svg\")","\t\t\t\t\t.attr(\"width\", w + m[1] + m[3])","\t\t\t\t\t.attr(\"height\", h + m[0] + m[2])","\t\t\t\t\t.attr(\"class\", \"chart\");","\t\t","\t\tchart.append(\"defs\").append(\"clipPath\")","\t\t\t.attr(\"id\", \"clip\")","\t\t\t.append(\"rect\")","\t\t\t.attr(\"width\", w)","\t\t\t.attr(\"height\", mainHeight);","","\t\tvar main = chart.append(\"g\")","\t\t\t\t\t.attr(\"transform\", \"translate(\" + m[3] + \",\" + m[0] + \")\")","\t\t\t\t\t.attr(\"width\", w)","\t\t\t\t\t.attr(\"height\", mainHeight)","\t\t\t\t\t.attr(\"class\", \"main\");","","\t\tvar mini = chart.append(\"g\")","\t\t\t\t\t.attr(\"transform\", \"translate(\" + m[3] + \",\" + (mainHeight + m[0]) + \")\")","\t\t\t\t\t.attr(\"width\", w)","\t\t\t\t\t.attr(\"height\", miniHeight)","\t\t\t\t\t.attr(\"class\", \"mini\");","\t\t","\t\t//main lanes and texts","\t\tmain.append(\"g\").selectAll(\".laneLines\")","\t\t\t.data(items)","\t\t\t.enter().append(\"line\")","\t\t\t.attr(\"x1\", m[1])","\t\t\t.attr(\"y1\", function(d) {return y1(d.lane);})","\t\t\t.attr(\"x2\", w)","\t\t\t.attr(\"y2\", function(d) {return y1(d.lane);})","\t\t\t.attr(\"stroke\", \"lightgray\")","","\t\tmain.append(\"g\").selectAll(\".laneText\")","\t\t\t.data(lanes)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d;})","\t\t\t.attr(\"x\", -m[1])","\t\t\t.attr(\"y\", function(d, i) {return y1(i + .5);})","\t\t\t.attr(\"dy\", \".5ex\")","\t\t\t.attr(\"text-anchor\", \"end\")","\t\t\t.attr(\"class\", \"laneText\");","\t\t","\t\t//mini lanes and texts","\t\tmini.append(\"g\").selectAll(\".laneLines\")","\t\t\t.data(items)","\t\t\t.enter().append(\"line\")","\t\t\t.attr(\"x1\", m[1])","\t\t\t.attr(\"y1\", function(d) {return y2(d.lane);})","\t\t\t.attr(\"x2\", w)","\t\t\t.attr(\"y2\", function(d) {return y2(d.lane);})","\t\t\t.attr(\"stroke\", \"lightgray\");","","\t\tmini.append(\"g\").selectAll(\".laneText\")","\t\t\t.data(lanes)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d;})","\t\t\t.attr(\"x\", -m[1])","\t\t\t.attr(\"y\", function(d, i) {return y2(i + .5);})","\t\t\t.attr(\"dy\", \".5ex\")","\t\t\t.attr(\"text-anchor\", \"end\")","\t\t\t.attr(\"class\", \"laneText\");","","\t\tvar itemRects = main.append(\"g\")","\t\t\t\t\t\t\t.attr(\"clip-path\", \"url(#clip)\");","\t\t","\t\t//mini item rects","\t\tmini.append(\"g\").selectAll(\"miniItems\")","\t\t\t.data(items)","\t\t\t.enter().append(\"rect\")","\t\t\t.attr(\"class\", function(d) {return \"miniItem\" + d.lane;})","\t\t\t.attr(\"x\", function(d) {return x(d.start);})","\t\t\t.attr(\"y\", function(d) {return y2(d.lane + .5) - 5;})","\t\t\t.attr(\"width\", function(d) {return x(d.end - d.start);})","\t\t\t.attr(\"height\", 10);","","\t\t//mini labels","\t\tmini.append(\"g\").selectAll(\".miniLabels\")","\t\t\t.data(items)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d.id;})","\t\t\t.attr(\"x\", function(d) {return x(d.start);})","\t\t\t.attr(\"y\", function(d) {return y2(d.lane + .5);})","\t\t\t.attr(\"dy\", \".5ex\");","","\t\t//brush","\t\tvar brush = d3.svg.brush()","\t\t\t\t\t\t\t.x(x)","\t\t\t\t\t\t\t.on(\"brush\", display);","","\t\tmini.append(\"g\")","\t\t\t.attr(\"class\", \"x brush\")","\t\t\t.call(brush)","\t\t\t.selectAll(\"rect\")","\t\t\t.attr(\"y\", 1)","\t\t\t.attr(\"height\", miniHeight - 1);","","\t\tdisplay();","\t\t","\t\tfunction display() {","\t\t\tvar rects, labels,","\t\t\t\tminExtent = brush.extent()[0],","\t\t\t\tmaxExtent = brush.extent()[1],","\t\t\t\tvisItems = items.filter(function(d) {return d.start < maxExtent && d.end > minExtent;});","","\t\t\tmini.select(\".brush\")","\t\t\t\t.call(brush.extent([minExtent, maxExtent]));","","\t\t\tx1.domain([minExtent, maxExtent]);","","\t\t\t//update main item rects","\t\t\trects = itemRects.selectAll(\"rect\")","\t\t\t        .data(visItems, function(d) { return d.id; })","\t\t\t\t.attr(\"x\", function(d) {return x1(d.start);})","\t\t\t\t.attr(\"width\", function(d) {return x1(d.end) - x1(d.start);});","\t\t\t","\t\t\trects.enter().append(\"rect\")","\t\t\t\t.attr(\"class\", function(d) {return \"miniItem\" + d.lane;})","\t\t\t\t.attr(\"x\", function(d) {return x1(d.start);})","\t\t\t\t.attr(\"y\", function(d) {return y1(d.lane) + 10;})","\t\t\t\t.attr(\"width\", function(d) {return x1(d.end) - x1(d.start);})","\t\t\t\t.attr(\"height\", function(d) {return .8 * y1(1);});","","\t\t\trects.exit().remove();","","\t\t\t//update the item labels","\t\t\tlabels = itemRects.selectAll(\"text\")","\t\t\t\t.data(visItems, function (d) { return d.id; })","\t\t\t\t.attr(\"x\", function(d) {return x1(Math.max(d.start, minExtent) + 2);});","","\t\t\tlabels.enter().append(\"text\")","\t\t\t\t.text(function(d) {return d.id;})","\t\t\t\t.attr(\"x\", function(d) {return x1(Math.max(d.start, minExtent));})","\t\t\t\t.attr(\"y\", function(d) {return y1(d.lane + .5);})","\t\t\t\t.attr(\"text-anchor\", \"start\");","","\t\t\tlabels.exit().remove();","","\t\t}"],"id":2},{"start":{"row":0,"column":0},"end":{"row":238,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<html>","\t<head>","\t\t<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\">","\t\t<title>Chronological Diagram of Asia</title>","\t\t<script type=\"text/javascript\" src=\"https://mbostock.github.com/d3/d3.v2.js\"></script>","\t\t<style type=\"text/css\">","\t\t.chart {","\t\t\tshape-rendering: crispEdges;","\t\t}","","\t\t.mini text {","\t\t\tfont: 9px sans-serif;\t","\t\t}","","\t\t.main text {","\t\t\tfont: 12px sans-serif;\t","\t\t}","","\t\t.miniItem0 {","\t\t\tfill: darksalmon;","\t\t\tstroke-width: 6;\t","\t\t}","","\t\t.miniItem1 {","\t\t\tfill: darkolivegreen;","\t\t\tfill-opacity: .7;","\t\t\tstroke-width: 6;\t","\t\t}","","\t\t.miniItem2 {","\t\t\tfill: slategray;","\t\t\tfill-opacity: .7;","\t\t\tstroke-width: 6;\t","\t\t}","","\t\t.brush .extent {","\t\t\tstroke: gray;","\t\t\tfill: dodgerblue;","\t\t\tfill-opacity: .365;","\t\t}","\t\t</style>","\t</head>","\t<body>","\t\t<script type=\"text/javascript\">","\t\t//data","\t\tvar lanes = [\"Chinese\",\"Japanese\",\"Korean\"],","\t\t\tlaneLength = lanes.length,","\t\t\titems = [{\"lane\": 0, \"id\": \"Qin\", \"start\": 5, \"end\": 205},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Jin\", \"start\": 265, \"end\": 420},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Sui\", \"start\": 580, \"end\": 615},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Tang\", \"start\": 620, \"end\": 900},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Song\", \"start\": 960, \"end\": 1265},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Yuan\", \"start\": 1270, \"end\": 1365},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Ming\", \"start\": 1370, \"end\": 1640},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Qing\", \"start\": 1645, \"end\": 1910},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Yamato\", \"start\": 300, \"end\": 530},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Asuka\", \"start\": 550, \"end\": 700},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Nara\", \"start\": 710, \"end\": 790},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Heian\", \"start\": 800, \"end\": 1180},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Kamakura\", \"start\": 1190, \"end\": 1330},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Muromachi\", \"start\": 1340, \"end\": 1560},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Edo\", \"start\": 1610, \"end\": 1860},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Meiji\", \"start\": 1870, \"end\": 1900},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Taisho\", \"start\": 1910, \"end\": 1920},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Showa\", \"start\": 1925, \"end\": 1985},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Heisei\", \"start\": 1990, \"end\": 1995},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Three Kingdoms\", \"start\": 10, \"end\": 670},","\t\t\t\t\t{\"lane\": 2, \"id\": \"North and South States\", \"start\": 690, \"end\": 900},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Goryeo\", \"start\": 920, \"end\": 1380},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Joseon\", \"start\": 1390, \"end\": 1890},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Korean Empire\", \"start\": 1900, \"end\": 1945}]","\t\t\ttimeBegin = 0,","\t\t\ttimeEnd = 2000;","\t\t</script>","\t\t<script type=\"text/javascript\">","\t\tvar m = [20, 15, 15, 120], //top right bottom left","\t\t\tw = 960 - m[1] - m[3],","\t\t\th = 500 - m[0] - m[2],","\t\t\tminiHeight = laneLength * 12 + 50,","\t\t\tmainHeight = h - miniHeight - 50;","","\t\t//scales","\t\tvar x = d3.scale.linear()","\t\t\t\t.domain([timeBegin, timeEnd])","\t\t\t\t.range([0, w]);","\t\tvar x1 = d3.scale.linear()","\t\t\t\t.range([0, w]);","\t\tvar y1 = d3.scale.linear()","\t\t\t\t.domain([0, laneLength])","\t\t\t\t.range([0, mainHeight]);","\t\tvar y2 = d3.scale.linear()","\t\t\t\t.domain([0, laneLength])","\t\t\t\t.range([0, miniHeight]);","","\t\tvar chart = d3.select(\"body\")","\t\t\t\t\t.append(\"svg\")","\t\t\t\t\t.attr(\"width\", w + m[1] + m[3])","\t\t\t\t\t.attr(\"height\", h + m[0] + m[2])","\t\t\t\t\t.attr(\"class\", \"chart\");","\t\t","\t\tchart.append(\"defs\").append(\"clipPath\")","\t\t\t.attr(\"id\", \"clip\")","\t\t\t.append(\"rect\")","\t\t\t.attr(\"width\", w)","\t\t\t.attr(\"height\", mainHeight);","","\t\tvar main = chart.append(\"g\")","\t\t\t\t\t.attr(\"transform\", \"translate(\" + m[3] + \",\" + m[0] + \")\")","\t\t\t\t\t.attr(\"width\", w)","\t\t\t\t\t.attr(\"height\", mainHeight)","\t\t\t\t\t.attr(\"class\", \"main\");","","\t\tvar mini = chart.append(\"g\")","\t\t\t\t\t.attr(\"transform\", \"translate(\" + m[3] + \",\" + (mainHeight + m[0]) + \")\")","\t\t\t\t\t.attr(\"width\", w)","\t\t\t\t\t.attr(\"height\", miniHeight)","\t\t\t\t\t.attr(\"class\", \"mini\");","\t\t","\t\t//main lanes and texts","\t\tmain.append(\"g\").selectAll(\".laneLines\")","\t\t\t.data(items)","\t\t\t.enter().append(\"line\")","\t\t\t.attr(\"x1\", m[1])","\t\t\t.attr(\"y1\", function(d) {return y1(d.lane);})","\t\t\t.attr(\"x2\", w)","\t\t\t.attr(\"y2\", function(d) {return y1(d.lane);})","\t\t\t.attr(\"stroke\", \"lightgray\")","","\t\tmain.append(\"g\").selectAll(\".laneText\")","\t\t\t.data(lanes)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d;})","\t\t\t.attr(\"x\", -m[1])","\t\t\t.attr(\"y\", function(d, i) {return y1(i + .5);})","\t\t\t.attr(\"dy\", \".5ex\")","\t\t\t.attr(\"text-anchor\", \"end\")","\t\t\t.attr(\"class\", \"laneText\");","\t\t","\t\t//mini lanes and texts","\t\tmini.append(\"g\").selectAll(\".laneLines\")","\t\t\t.data(items)","\t\t\t.enter().append(\"line\")","\t\t\t.attr(\"x1\", m[1])","\t\t\t.attr(\"y1\", function(d) {return y2(d.lane);})","\t\t\t.attr(\"x2\", w)","\t\t\t.attr(\"y2\", function(d) {return y2(d.lane);})","\t\t\t.attr(\"stroke\", \"lightgray\");","","\t\tmini.append(\"g\").selectAll(\".laneText\")","\t\t\t.data(lanes)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d;})","\t\t\t.attr(\"x\", -m[1])","\t\t\t.attr(\"y\", function(d, i) {return y2(i + .5);})","\t\t\t.attr(\"dy\", \".5ex\")","\t\t\t.attr(\"text-anchor\", \"end\")","\t\t\t.attr(\"class\", \"laneText\");","","\t\tvar itemRects = main.append(\"g\")","\t\t\t\t\t\t\t.attr(\"clip-path\", \"url(#clip)\");","\t\t","\t\t//mini item rects","\t\tmini.append(\"g\").selectAll(\"miniItems\")","\t\t\t.data(items)","\t\t\t.enter().append(\"rect\")","\t\t\t.attr(\"class\", function(d) {return \"miniItem\" + d.lane;})","\t\t\t.attr(\"x\", function(d) {return x(d.start);})","\t\t\t.attr(\"y\", function(d) {return y2(d.lane + .5) - 5;})","\t\t\t.attr(\"width\", function(d) {return x(d.end - d.start);})","\t\t\t.attr(\"height\", 10);","","\t\t//mini labels","\t\tmini.append(\"g\").selectAll(\".miniLabels\")","\t\t\t.data(items)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d.id;})","\t\t\t.attr(\"x\", function(d) {return x(d.start);})","\t\t\t.attr(\"y\", function(d) {return y2(d.lane + .5);})","\t\t\t.attr(\"dy\", \".5ex\");","","\t\t//brush","\t\tvar brush = d3.svg.brush()","\t\t\t\t\t\t\t.x(x)","\t\t\t\t\t\t\t.on(\"brush\", display);","","\t\tmini.append(\"g\")","\t\t\t.attr(\"class\", \"x brush\")","\t\t\t.call(brush)","\t\t\t.selectAll(\"rect\")","\t\t\t.attr(\"y\", 1)","\t\t\t.attr(\"height\", miniHeight - 1);","","\t\tdisplay();","\t\t","\t\tfunction display() {","\t\t\tvar rects, labels,","\t\t\t\tminExtent = brush.extent()[0],","\t\t\t\tmaxExtent = brush.extent()[1],","\t\t\t\tvisItems = items.filter(function(d) {return d.start < maxExtent && d.end > minExtent;});","","\t\t\tmini.select(\".brush\")","\t\t\t\t.call(brush.extent([minExtent, maxExtent]));","","\t\t\tx1.domain([minExtent, maxExtent]);","","\t\t\t//update main item rects","\t\t\trects = itemRects.selectAll(\"rect\")","\t\t\t        .data(visItems, function(d) { return d.id; })","\t\t\t\t.attr(\"x\", function(d) {return x1(d.start);})","\t\t\t\t.attr(\"width\", function(d) {return x1(d.end) - x1(d.start);});","\t\t\t","\t\t\trects.enter().append(\"rect\")","\t\t\t\t.attr(\"class\", function(d) {return \"miniItem\" + d.lane;})","\t\t\t\t.attr(\"x\", function(d) {return x1(d.start);})","\t\t\t\t.attr(\"y\", function(d) {return y1(d.lane) + 10;})","\t\t\t\t.attr(\"width\", function(d) {return x1(d.end) - x1(d.start);})","\t\t\t\t.attr(\"height\", function(d) {return .8 * y1(1);});","","\t\t\trects.exit().remove();","","\t\t\t//update the item labels","\t\t\tlabels = itemRects.selectAll(\"text\")","\t\t\t\t.data(visItems, function (d) { return d.id; })","\t\t\t\t.attr(\"x\", function(d) {return x1(Math.max(d.start, minExtent) + 2);});","","\t\t\tlabels.enter().append(\"text\")","\t\t\t\t.text(function(d) {return d.id;})","\t\t\t\t.attr(\"x\", function(d) {return x1(Math.max(d.start, minExtent));})","\t\t\t\t.attr(\"y\", function(d) {return y1(d.lane + .5);})","\t\t\t\t.attr(\"text-anchor\", \"start\");","","\t\t\tlabels.exit().remove();","","\t\t}","\t\t","\t\t</script>","\t</body>","</html>"]}],[{"start":{"row":0,"column":0},"end":{"row":238,"column":7},"action":"remove","lines":["<!DOCTYPE html>","<html>","\t<head>","\t\t<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\">","\t\t<title>Chronological Diagram of Asia</title>","\t\t<script type=\"text/javascript\" src=\"https://mbostock.github.com/d3/d3.v2.js\"></script>","\t\t<style type=\"text/css\">","\t\t.chart {","\t\t\tshape-rendering: crispEdges;","\t\t}","","\t\t.mini text {","\t\t\tfont: 9px sans-serif;\t","\t\t}","","\t\t.main text {","\t\t\tfont: 12px sans-serif;\t","\t\t}","","\t\t.miniItem0 {","\t\t\tfill: darksalmon;","\t\t\tstroke-width: 6;\t","\t\t}","","\t\t.miniItem1 {","\t\t\tfill: darkolivegreen;","\t\t\tfill-opacity: .7;","\t\t\tstroke-width: 6;\t","\t\t}","","\t\t.miniItem2 {","\t\t\tfill: slategray;","\t\t\tfill-opacity: .7;","\t\t\tstroke-width: 6;\t","\t\t}","","\t\t.brush .extent {","\t\t\tstroke: gray;","\t\t\tfill: dodgerblue;","\t\t\tfill-opacity: .365;","\t\t}","\t\t</style>","\t</head>","\t<body>","\t\t<script type=\"text/javascript\">","\t\t//data","\t\tvar lanes = [\"Chinese\",\"Japanese\",\"Korean\"],","\t\t\tlaneLength = lanes.length,","\t\t\titems = [{\"lane\": 0, \"id\": \"Qin\", \"start\": 5, \"end\": 205},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Jin\", \"start\": 265, \"end\": 420},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Sui\", \"start\": 580, \"end\": 615},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Tang\", \"start\": 620, \"end\": 900},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Song\", \"start\": 960, \"end\": 1265},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Yuan\", \"start\": 1270, \"end\": 1365},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Ming\", \"start\": 1370, \"end\": 1640},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Qing\", \"start\": 1645, \"end\": 1910},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Yamato\", \"start\": 300, \"end\": 530},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Asuka\", \"start\": 550, \"end\": 700},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Nara\", \"start\": 710, \"end\": 790},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Heian\", \"start\": 800, \"end\": 1180},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Kamakura\", \"start\": 1190, \"end\": 1330},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Muromachi\", \"start\": 1340, \"end\": 1560},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Edo\", \"start\": 1610, \"end\": 1860},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Meiji\", \"start\": 1870, \"end\": 1900},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Taisho\", \"start\": 1910, \"end\": 1920},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Showa\", \"start\": 1925, \"end\": 1985},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Heisei\", \"start\": 1990, \"end\": 1995},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Three Kingdoms\", \"start\": 10, \"end\": 670},","\t\t\t\t\t{\"lane\": 2, \"id\": \"North and South States\", \"start\": 690, \"end\": 900},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Goryeo\", \"start\": 920, \"end\": 1380},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Joseon\", \"start\": 1390, \"end\": 1890},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Korean Empire\", \"start\": 1900, \"end\": 1945}]","\t\t\ttimeBegin = 0,","\t\t\ttimeEnd = 2000;","\t\t</script>","\t\t<script type=\"text/javascript\">","\t\tvar m = [20, 15, 15, 120], //top right bottom left","\t\t\tw = 960 - m[1] - m[3],","\t\t\th = 500 - m[0] - m[2],","\t\t\tminiHeight = laneLength * 12 + 50,","\t\t\tmainHeight = h - miniHeight - 50;","","\t\t//scales","\t\tvar x = d3.scale.linear()","\t\t\t\t.domain([timeBegin, timeEnd])","\t\t\t\t.range([0, w]);","\t\tvar x1 = d3.scale.linear()","\t\t\t\t.range([0, w]);","\t\tvar y1 = d3.scale.linear()","\t\t\t\t.domain([0, laneLength])","\t\t\t\t.range([0, mainHeight]);","\t\tvar y2 = d3.scale.linear()","\t\t\t\t.domain([0, laneLength])","\t\t\t\t.range([0, miniHeight]);","","\t\tvar chart = d3.select(\"body\")","\t\t\t\t\t.append(\"svg\")","\t\t\t\t\t.attr(\"width\", w + m[1] + m[3])","\t\t\t\t\t.attr(\"height\", h + m[0] + m[2])","\t\t\t\t\t.attr(\"class\", \"chart\");","\t\t","\t\tchart.append(\"defs\").append(\"clipPath\")","\t\t\t.attr(\"id\", \"clip\")","\t\t\t.append(\"rect\")","\t\t\t.attr(\"width\", w)","\t\t\t.attr(\"height\", mainHeight);","","\t\tvar main = chart.append(\"g\")","\t\t\t\t\t.attr(\"transform\", \"translate(\" + m[3] + \",\" + m[0] + \")\")","\t\t\t\t\t.attr(\"width\", w)","\t\t\t\t\t.attr(\"height\", mainHeight)","\t\t\t\t\t.attr(\"class\", \"main\");","","\t\tvar mini = chart.append(\"g\")","\t\t\t\t\t.attr(\"transform\", \"translate(\" + m[3] + \",\" + (mainHeight + m[0]) + \")\")","\t\t\t\t\t.attr(\"width\", w)","\t\t\t\t\t.attr(\"height\", miniHeight)","\t\t\t\t\t.attr(\"class\", \"mini\");","\t\t","\t\t//main lanes and texts","\t\tmain.append(\"g\").selectAll(\".laneLines\")","\t\t\t.data(items)","\t\t\t.enter().append(\"line\")","\t\t\t.attr(\"x1\", m[1])","\t\t\t.attr(\"y1\", function(d) {return y1(d.lane);})","\t\t\t.attr(\"x2\", w)","\t\t\t.attr(\"y2\", function(d) {return y1(d.lane);})","\t\t\t.attr(\"stroke\", \"lightgray\")","","\t\tmain.append(\"g\").selectAll(\".laneText\")","\t\t\t.data(lanes)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d;})","\t\t\t.attr(\"x\", -m[1])","\t\t\t.attr(\"y\", function(d, i) {return y1(i + .5);})","\t\t\t.attr(\"dy\", \".5ex\")","\t\t\t.attr(\"text-anchor\", \"end\")","\t\t\t.attr(\"class\", \"laneText\");","\t\t","\t\t//mini lanes and texts","\t\tmini.append(\"g\").selectAll(\".laneLines\")","\t\t\t.data(items)","\t\t\t.enter().append(\"line\")","\t\t\t.attr(\"x1\", m[1])","\t\t\t.attr(\"y1\", function(d) {return y2(d.lane);})","\t\t\t.attr(\"x2\", w)","\t\t\t.attr(\"y2\", function(d) {return y2(d.lane);})","\t\t\t.attr(\"stroke\", \"lightgray\");","","\t\tmini.append(\"g\").selectAll(\".laneText\")","\t\t\t.data(lanes)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d;})","\t\t\t.attr(\"x\", -m[1])","\t\t\t.attr(\"y\", function(d, i) {return y2(i + .5);})","\t\t\t.attr(\"dy\", \".5ex\")","\t\t\t.attr(\"text-anchor\", \"end\")","\t\t\t.attr(\"class\", \"laneText\");","","\t\tvar itemRects = main.append(\"g\")","\t\t\t\t\t\t\t.attr(\"clip-path\", \"url(#clip)\");","\t\t","\t\t//mini item rects","\t\tmini.append(\"g\").selectAll(\"miniItems\")","\t\t\t.data(items)","\t\t\t.enter().append(\"rect\")","\t\t\t.attr(\"class\", function(d) {return \"miniItem\" + d.lane;})","\t\t\t.attr(\"x\", function(d) {return x(d.start);})","\t\t\t.attr(\"y\", function(d) {return y2(d.lane + .5) - 5;})","\t\t\t.attr(\"width\", function(d) {return x(d.end - d.start);})","\t\t\t.attr(\"height\", 10);","","\t\t//mini labels","\t\tmini.append(\"g\").selectAll(\".miniLabels\")","\t\t\t.data(items)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d.id;})","\t\t\t.attr(\"x\", function(d) {return x(d.start);})","\t\t\t.attr(\"y\", function(d) {return y2(d.lane + .5);})","\t\t\t.attr(\"dy\", \".5ex\");","","\t\t//brush","\t\tvar brush = d3.svg.brush()","\t\t\t\t\t\t\t.x(x)","\t\t\t\t\t\t\t.on(\"brush\", display);","","\t\tmini.append(\"g\")","\t\t\t.attr(\"class\", \"x brush\")","\t\t\t.call(brush)","\t\t\t.selectAll(\"rect\")","\t\t\t.attr(\"y\", 1)","\t\t\t.attr(\"height\", miniHeight - 1);","","\t\tdisplay();","\t\t","\t\tfunction display() {","\t\t\tvar rects, labels,","\t\t\t\tminExtent = brush.extent()[0],","\t\t\t\tmaxExtent = brush.extent()[1],","\t\t\t\tvisItems = items.filter(function(d) {return d.start < maxExtent && d.end > minExtent;});","","\t\t\tmini.select(\".brush\")","\t\t\t\t.call(brush.extent([minExtent, maxExtent]));","","\t\t\tx1.domain([minExtent, maxExtent]);","","\t\t\t//update main item rects","\t\t\trects = itemRects.selectAll(\"rect\")","\t\t\t        .data(visItems, function(d) { return d.id; })","\t\t\t\t.attr(\"x\", function(d) {return x1(d.start);})","\t\t\t\t.attr(\"width\", function(d) {return x1(d.end) - x1(d.start);});","\t\t\t","\t\t\trects.enter().append(\"rect\")","\t\t\t\t.attr(\"class\", function(d) {return \"miniItem\" + d.lane;})","\t\t\t\t.attr(\"x\", function(d) {return x1(d.start);})","\t\t\t\t.attr(\"y\", function(d) {return y1(d.lane) + 10;})","\t\t\t\t.attr(\"width\", function(d) {return x1(d.end) - x1(d.start);})","\t\t\t\t.attr(\"height\", function(d) {return .8 * y1(1);});","","\t\t\trects.exit().remove();","","\t\t\t//update the item labels","\t\t\tlabels = itemRects.selectAll(\"text\")","\t\t\t\t.data(visItems, function (d) { return d.id; })","\t\t\t\t.attr(\"x\", function(d) {return x1(Math.max(d.start, minExtent) + 2);});","","\t\t\tlabels.enter().append(\"text\")","\t\t\t\t.text(function(d) {return d.id;})","\t\t\t\t.attr(\"x\", function(d) {return x1(Math.max(d.start, minExtent));})","\t\t\t\t.attr(\"y\", function(d) {return y1(d.lane + .5);})","\t\t\t\t.attr(\"text-anchor\", \"start\");","","\t\t\tlabels.exit().remove();","","\t\t}","\t\t","\t\t</script>","\t</body>","</html>"],"id":3},{"start":{"row":0,"column":0},"end":{"row":238,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<html>","\t<head>","\t\t<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\">","\t\t<title>Chronological Diagram of Asia</title>","\t\t<script type=\"text/javascript\" src=\"https://mbostock.github.com/d3/d3.v2.js\"></script>","\t\t<style type=\"text/css\">","\t\t.chart {","\t\t\tshape-rendering: crispEdges;","\t\t}","","\t\t.mini text {","\t\t\tfont: 9px sans-serif;\t","\t\t}","","\t\t.main text {","\t\t\tfont: 12px sans-serif;\t","\t\t}","","\t\t.miniItem0 {","\t\t\tfill: darksalmon;","\t\t\tstroke-width: 6;\t","\t\t}","","\t\t.miniItem1 {","\t\t\tfill: darkolivegreen;","\t\t\tfill-opacity: .7;","\t\t\tstroke-width: 6;\t","\t\t}","","\t\t.miniItem2 {","\t\t\tfill: slategray;","\t\t\tfill-opacity: .7;","\t\t\tstroke-width: 6;\t","\t\t}","","\t\t.brush .extent {","\t\t\tstroke: gray;","\t\t\tfill: dodgerblue;","\t\t\tfill-opacity: .365;","\t\t}","\t\t</style>","\t</head>","\t<body>","\t\t<script type=\"text/javascript\">","\t\t//data","\t\tvar lanes = [\"Chinese\",\"Japanese\",\"Korean\"],","\t\t\tlaneLength = lanes.length,","\t\t\titems = [{\"lane\": 0, \"id\": \"Qin\", \"start\": 5, \"end\": 205},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Jin\", \"start\": 265, \"end\": 420},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Sui\", \"start\": 580, \"end\": 615},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Tang\", \"start\": 620, \"end\": 900},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Song\", \"start\": 960, \"end\": 1265},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Yuan\", \"start\": 1270, \"end\": 1365},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Ming\", \"start\": 1370, \"end\": 1640},","\t\t\t\t\t{\"lane\": 0, \"id\": \"Qing\", \"start\": 1645, \"end\": 1910},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Yamato\", \"start\": 300, \"end\": 530},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Asuka\", \"start\": 550, \"end\": 700},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Nara\", \"start\": 710, \"end\": 790},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Heian\", \"start\": 800, \"end\": 1180},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Kamakura\", \"start\": 1190, \"end\": 1330},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Muromachi\", \"start\": 1340, \"end\": 1560},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Edo\", \"start\": 1610, \"end\": 1860},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Meiji\", \"start\": 1870, \"end\": 1900},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Taisho\", \"start\": 1910, \"end\": 1920},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Showa\", \"start\": 1925, \"end\": 1985},","\t\t\t\t\t{\"lane\": 1, \"id\": \"Heisei\", \"start\": 1990, \"end\": 1995},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Three Kingdoms\", \"start\": 10, \"end\": 670},","\t\t\t\t\t{\"lane\": 2, \"id\": \"North and South States\", \"start\": 690, \"end\": 900},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Goryeo\", \"start\": 920, \"end\": 1380},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Joseon\", \"start\": 1390, \"end\": 1890},","\t\t\t\t\t{\"lane\": 2, \"id\": \"Korean Empire\", \"start\": 1900, \"end\": 1945}]","\t\t\ttimeBegin = 0,","\t\t\ttimeEnd = 2000;","\t\t</script>","\t\t<script type=\"text/javascript\">","\t\tvar m = [20, 15, 15, 120], //top right bottom left","\t\t\tw = 960 - m[1] - m[3],","\t\t\th = 500 - m[0] - m[2],","\t\t\tminiHeight = laneLength * 12 + 50,","\t\t\tmainHeight = h - miniHeight - 50;","","\t\t//scales","\t\tvar x = d3.scale.linear()","\t\t\t\t.domain([timeBegin, timeEnd])","\t\t\t\t.range([0, w]);","\t\tvar x1 = d3.scale.linear()","\t\t\t\t.range([0, w]);","\t\tvar y1 = d3.scale.linear()","\t\t\t\t.domain([0, laneLength])","\t\t\t\t.range([0, mainHeight]);","\t\tvar y2 = d3.scale.linear()","\t\t\t\t.domain([0, laneLength])","\t\t\t\t.range([0, miniHeight]);","","\t\tvar chart = d3.select(\"body\")","\t\t\t\t\t.append(\"svg\")","\t\t\t\t\t.attr(\"width\", w + m[1] + m[3])","\t\t\t\t\t.attr(\"height\", h + m[0] + m[2])","\t\t\t\t\t.attr(\"class\", \"chart\");","\t\t","\t\tchart.append(\"defs\").append(\"clipPath\")","\t\t\t.attr(\"id\", \"clip\")","\t\t\t.append(\"rect\")","\t\t\t.attr(\"width\", w)","\t\t\t.attr(\"height\", mainHeight);","","\t\tvar main = chart.append(\"g\")","\t\t\t\t\t.attr(\"transform\", \"translate(\" + m[3] + \",\" + m[0] + \")\")","\t\t\t\t\t.attr(\"width\", w)","\t\t\t\t\t.attr(\"height\", mainHeight)","\t\t\t\t\t.attr(\"class\", \"main\");","","\t\tvar mini = chart.append(\"g\")","\t\t\t\t\t.attr(\"transform\", \"translate(\" + m[3] + \",\" + (mainHeight + m[0]) + \")\")","\t\t\t\t\t.attr(\"width\", w)","\t\t\t\t\t.attr(\"height\", miniHeight)","\t\t\t\t\t.attr(\"class\", \"mini\");","\t\t","\t\t//main lanes and texts","\t\tmain.append(\"g\").selectAll(\".laneLines\")","\t\t\t.data(items)","\t\t\t.enter().append(\"line\")","\t\t\t.attr(\"x1\", m[1])","\t\t\t.attr(\"y1\", function(d) {return y1(d.lane);})","\t\t\t.attr(\"x2\", w)","\t\t\t.attr(\"y2\", function(d) {return y1(d.lane);})","\t\t\t.attr(\"stroke\", \"lightgray\")","","\t\tmain.append(\"g\").selectAll(\".laneText\")","\t\t\t.data(lanes)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d;})","\t\t\t.attr(\"x\", -m[1])","\t\t\t.attr(\"y\", function(d, i) {return y1(i + .5);})","\t\t\t.attr(\"dy\", \".5ex\")","\t\t\t.attr(\"text-anchor\", \"end\")","\t\t\t.attr(\"class\", \"laneText\");","\t\t","\t\t//mini lanes and texts","\t\tmini.append(\"g\").selectAll(\".laneLines\")","\t\t\t.data(items)","\t\t\t.enter().append(\"line\")","\t\t\t.attr(\"x1\", m[1])","\t\t\t.attr(\"y1\", function(d) {return y2(d.lane);})","\t\t\t.attr(\"x2\", w)","\t\t\t.attr(\"y2\", function(d) {return y2(d.lane);})","\t\t\t.attr(\"stroke\", \"lightgray\");","","\t\tmini.append(\"g\").selectAll(\".laneText\")","\t\t\t.data(lanes)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d;})","\t\t\t.attr(\"x\", -m[1])","\t\t\t.attr(\"y\", function(d, i) {return y2(i + .5);})","\t\t\t.attr(\"dy\", \".5ex\")","\t\t\t.attr(\"text-anchor\", \"end\")","\t\t\t.attr(\"class\", \"laneText\");","","\t\tvar itemRects = main.append(\"g\")","\t\t\t\t\t\t\t.attr(\"clip-path\", \"url(#clip)\");","\t\t","\t\t//mini item rects","\t\tmini.append(\"g\").selectAll(\"miniItems\")","\t\t\t.data(items)","\t\t\t.enter().append(\"rect\")","\t\t\t.attr(\"class\", function(d) {return \"miniItem\" + d.lane;})","\t\t\t.attr(\"x\", function(d) {return x(d.start);})","\t\t\t.attr(\"y\", function(d) {return y2(d.lane + .5) - 5;})","\t\t\t.attr(\"width\", function(d) {return x(d.end - d.start);})","\t\t\t.attr(\"height\", 10);","","\t\t//mini labels","\t\tmini.append(\"g\").selectAll(\".miniLabels\")","\t\t\t.data(items)","\t\t\t.enter().append(\"text\")","\t\t\t.text(function(d) {return d.id;})","\t\t\t.attr(\"x\", function(d) {return x(d.start);})","\t\t\t.attr(\"y\", function(d) {return y2(d.lane + .5);})","\t\t\t.attr(\"dy\", \".5ex\");","","\t\t//brush","\t\tvar brush = d3.svg.brush()","\t\t\t\t\t\t\t.x(x)","\t\t\t\t\t\t\t.on(\"brush\", display);","","\t\tmini.append(\"g\")","\t\t\t.attr(\"class\", \"x brush\")","\t\t\t.call(brush)","\t\t\t.selectAll(\"rect\")","\t\t\t.attr(\"y\", 1)","\t\t\t.attr(\"height\", miniHeight - 1);","","\t\tdisplay();","\t\t","\t\tfunction display() {","\t\t\tvar rects, labels,","\t\t\t\tminExtent = brush.extent()[0],","\t\t\t\tmaxExtent = brush.extent()[1],","\t\t\t\tvisItems = items.filter(function(d) {return d.start < maxExtent && d.end > minExtent;});","","\t\t\tmini.select(\".brush\")","\t\t\t\t.call(brush.extent([minExtent, maxExtent]));","","\t\t\tx1.domain([minExtent, maxExtent]);","","\t\t\t//update main item rects","\t\t\trects = itemRects.selectAll(\"rect\")","\t\t\t        .data(visItems, function(d) { return d.id; })","\t\t\t\t.attr(\"x\", function(d) {return x1(d.start);})","\t\t\t\t.attr(\"width\", function(d) {return x1(d.end) - x1(d.start);});","\t\t\t","\t\t\trects.enter().append(\"rect\")","\t\t\t\t.attr(\"class\", function(d) {return \"miniItem\" + d.lane;})","\t\t\t\t.attr(\"x\", function(d) {return x1(d.start);})","\t\t\t\t.attr(\"y\", function(d) {return y1(d.lane) + 10;})","\t\t\t\t.attr(\"width\", function(d) {return x1(d.end) - x1(d.start);})","\t\t\t\t.attr(\"height\", function(d) {return .8 * y1(1);});","","\t\t\trects.exit().remove();","","\t\t\t//update the item labels","\t\t\tlabels = itemRects.selectAll(\"text\")","\t\t\t\t.data(visItems, function (d) { return d.id; })","\t\t\t\t.attr(\"x\", function(d) {return x1(Math.max(d.start, minExtent) + 2);});","","\t\t\tlabels.enter().append(\"text\")","\t\t\t\t.text(function(d) {return d.id;})","\t\t\t\t.attr(\"x\", function(d) {return x1(Math.max(d.start, minExtent));})","\t\t\t\t.attr(\"y\", function(d) {return y1(d.lane + .5);})","\t\t\t\t.attr(\"text-anchor\", \"start\");","","\t\t\tlabels.exit().remove();","","\t\t}","\t\t","\t\t</script>","\t</body>","</html>"]}],[{"start":{"row":5,"column":38},"end":{"row":5,"column":77},"action":"remove","lines":["https://mbostock.github.com/d3/d3.v2.js"],"id":4},{"start":{"row":5,"column":38},"end":{"row":5,"column":67},"action":"insert","lines":["https://d3js.org/d3.v4.min.js"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":5,"column":67},"end":{"row":5,"column":67},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1572545291714,"hash":"1aae487942bf4c2da9fa584b28a72b97a876ed2f"}